# Bank System

## Problem Statement

A brand new bank system performing some simple cash operations. The system
is expected to handle account creation, deposit, withdrawal and transfer.

## Installation Guild

To install you can clone the repository to local
```git clone https://github.com/edsml-jj621/bank_system.git```

Then in the root of the repository, create the environment by running
```conda env create -f environment.yml```

After you create the environment, please activate it:
```conda activate bank_system```

In the root of repository: ```cd system```

And run the bank_system.py by ```python bank_system.py``` and you will see the main menu of the system

## Documentation
A docstring.pdf is provided for reference, which is generated by Sphinx.

## Instruction
In the folder called system:
- demo_notebook.ipynb is a notebook for better demonstration
- two .csv file is used to store data, one for the clients' account information, another for the transaction history record
- bank_system.py is the main system code

## Continuous Integration (CI) workflows
One continuous integration using GitHub Actions to check codes base against coding style (PEP8) and programming errors.

## The specification are as follows

### Operation Function Requirements

|Feature|Description|
|-------|-----------|
|Account creation| To open a new bank account|
|Money deposit| To deposit money|
|Money withdrawal| To withdraw money|
|Money transfer| To transfer cash between two users|
|List bank account balance| To list the account for the particular user|
Display transaction statement| To generate transaction statement for the particular user|

### Bank Account Structure

|Column|Description|
|-------|-----------|
|account|account number (auto-allocate)|
|name|client user name|
|password|account password set by user|
|balance|Available Currency Balance|
|currency|currency name (HKD/USD/SGD)|

## Notes and features
- This system will support HKD, USD and SGD Currency only.
- OSL_FEE is the default built-in bank account.
- OSL will collect a 1% handling fee on withdrawal and transfer; The fee will be credited to the OSL_FEE account.
- A single client cannot do more than 5 withdrawals of any currency; limit to be reset every 5 minutes of last withdrawal
- Money transfer cannot happen between two accounts with different currencies
- A client cannot withdraw/transfer money given insufficient funds
- A single client can have accounts in multiple currencies
- Assume that clients cannot exchange one currency for another (e.g., HKD to USD)



## Demonstration
### To create the account
```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 1
Please input your name: Jake
Please input the password: 123456
Please input the currency(HKD/USD/SGD): HKD
Account Created Successfully! Your account number is 10000006
```
### To deposit money
```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 2
Please input your account: 10000004
Please input the password: 123456
Please input the amount to be deposited: 100
Deposit Money Successfully
```
### To withdraw money
If the amount of withdrawal larger than balance, the system will notify and ask user to input again
```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 3
Please input your account: 10000004
Please input the password: 123456
Please input the amount to be withdrawn: 800
Insufficient Fund, Balance = 400.0
Please input the amount to be withdrawn: 200
Withdraw Money Successfully
```
If a single client do more than 5 withdrawals of any currency, and the limit has not been reset, the system
will notify and ask user to try again later
```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 3
Please input your account: 10000003
Please input the password: 123456
More than 5 withdrawals in 5 mins
Please try again later
```

### To transfer money

To transfer the money between accounts. Check the target account is valid, check two accounts are of the same currency,
check the balance is sufficient. If all goes well, it will write the history and operations in the system.

```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 4
Please input your account: 10000009
Account Invalid
Please input your account: 10000005
Please input the password: 123455
Password Incorrect
Please input your account: 10000005
Please input the password: 123456
Please input the account transfer to: 10000009
Account Invalid
Please input the account transfer to: 10000004
Currency Different
Please input the account transfer to: 10000003
Please input the amount to be transferred: 800
Insufficient Fund, Balance = 388.9
Please input the amount to be withdrawn: 200
Transfer Money Successfully
```

### To list the balance

List all the account for the particular user, showing the name of the users, the account currency and the balance.

```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 5
Please input your name: Peter
---------------------------------
           name currency  balance
account                          
10000003  Peter      HKD    138.4
10000004  Peter      USD      6.1
---------------------------------
```

### To generate the transaction statement

To generate transaction statement for the particular user, it show all the transaction record 
of all the accounts of the users, including the time, currency, operation type, and amount.
```
------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 6
Please input your name: Ben
--------------------------------------------------------
Client Name: Ben
--------------------------------------------------------
                    Date Currency       Operation Amount
1   05 Jun 2022 01:43:13      HKD         Deposit   +500
3   05 Jun 2022 01:44:50      HKD      Withdrawal    -10
4   05 Jun 2022 01:44:50      HKD  Withdrawal FEE   -0.1
41  05 Jun 2022 13:04:06      HKD    Transfer Out   -100
42  05 Jun 2022 13:04:06      HKD    Transfer FEE   -1.0
--------------------------------------------------------
```

### Built-in account OSL_FEE and it will collect handling fee.
```
Please input your option: 5
Please input your name: OSL_FEE
---------------------------------
             name currency  balance
account
10000000  OSL_FEE      HKD      0.0
10000001  OSL_FEE      USD      0.0
10000002  OSL_FEE      SGD      0.0
---------------------------------
```

```
---------------------------------------

Please input your option: 4
Please input your account: 10000003
Please input the password: 123456
Please input the account transfer to: 10000004
Please input the amount to be transferred: 100
Transfer Money Successfully


------------OSL Bank System------------
1. Account Creation
2. Money Deposit
3. Money Withdrawal
4. Money Transfer
5. List Bank Account Balance
6. Display Transaction Statement
7. Exit
---------------------------------------

Please input your option: 6
Please input your name: OSL_FEE
--------------------------------------------------------
Client Name: OSL_FEE
--------------------------------------------------------
                   Date Currency     Operation Amount
4  05 Jun 2022 14:17:50      HKD  Handling FEE   +1.0
--------------------------------------------------------
```
